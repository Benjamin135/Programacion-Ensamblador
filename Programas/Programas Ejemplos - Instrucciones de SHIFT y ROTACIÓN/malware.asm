;%%%%%%%%%%%%%%%%%%%%%%%
;assemble and link with 
;assemble:	nasm -f win32 -o P1.o P1.asm -l P1.lst
;link:		gcc -o P1.exe P1.o
;run:		P1
;%%%%%%%%%%%%%%%%%%%%%%%
;--------------------------------------------------

;file: malware.asm

extern printf, scanf		

segment .data
;aqui se declaran variables inicializadas
x	DW	0xBBCC	;0b1011101111001100
		
segment .bss
;block storage start
;aqui van las variables declaradas pero sin inicializar

segment .text 
global main 					
main:	;etiqueta que indica el comienzo del programa principal
;aqui van las instrucciones
;---------------------------------------------------- 
	MOV BX, 0x7E	;BX = 0x007E = 0b0000000001111110	
	MOV CL, 3
	mov DX, [x]		;Dx = 0xBBCC = 0b1011101111001100
	MOV AX, 0x5B7B  ;AX = 0x5B7B = 0b0101101101111011
	ROR BX, CL		;BX = 0xC00F = 0b1100000000001111
	AND DH, AH		;DH = 0x1B   = 0b00011011
	OR AL, DL		;AL = 0xFF   = 0b11111111
ret




