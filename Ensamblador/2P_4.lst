     1                                  ;--------------------------------------------------------------------------
     2                                  ; MODELO EXAMEN SEGUNDO PARCIAL NÂ° 4
     3                                  ;--------------------------------------------------------------------------
     4                                  
     5                                  segment .data
     6                                  
     7 00000000 B40046003700290091-     	arreglo   dw   180, 70, 55, 41, 145, 51, 3121, 1034, 461, 22
     7 00000009 003300310C0A04CD01-
     7 00000012 1600               
     8 00000014 0A                      	num 	  db   10
     9                                  
    10                                  segment .bss
    11                                  
    12 00000000 ????                    	promedio   resw  1
    13                                  
    14                                  segment .text
    15                                  global main
    16                                  main:
    17                                  
    18 00000000 48B9-                   	mov rcx, arreglo
    18 00000002 [0000000000000000] 
    19 0000000A 8A1425[14000000]        	mov dl, [num]
    20 00000011 E809000000              	call promediar
    21 00000016 66890425[00000000]      	mov [promedio], ax
    22                                  
    23 0000001E C3                      ret
    24                                  
    25                                  ;---------------------------------------------------------------------------
    26                                  ;............Subrutinas............
    27                                  ;---------------------------------------------------------------------------
    28                                  
    29                                  promediar:
    30                                  
    31 0000001F 4D31D2                  	xor r10, r10 	; indice
    32 00000022 4831C0                  	xor rax, rax	; acumulador "suma"
    33 00000025 4831DB                  	xor rbx, rbx
    34                                  
    35                                  	ciclo:
    36 00000028 6642833C5132            		cmp word[rcx+r10*2], 50
    37 0000002E 7F02                    		jg menor2000
    38 00000030 EB10                    		jmp contCiclo
    39                                  		
    40                                  		menor2000:
    41 00000032 6642813C51D007          			cmp word[rcx+r10*2], 2000
    42 00000039 7E02                    			jle	sumar
    43 0000003B EB05                    			jmp contCiclo
    44                                  		
    45                                  		sumar:
    46 0000003D 6642030451              			add ax, [rcx+r10*2]
    47                                  		
    48                                  		contCiclo:
    49 00000042 49FFC2                  		inc r10
    50 00000045 4138D2                  		cmp r10b, dl
    51                                  		
    52 00000048 7CDE                    	jl ciclo
    53                                  	
    54 0000004A 88D3                    	mov bl, dl
    55 0000004C 6699                    	cwd
    56 0000004E 66F7FB                  	idiv bx
    57                                  	
    58 00000051 C3                      ret
    59                                  
    60                                  
    61                                  
    62                                  
    63                                  
    64                                  
    65                                  
    66                                  
    67                                  
