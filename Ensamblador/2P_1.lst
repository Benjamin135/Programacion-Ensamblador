     1                                  ;--------------------------------------------------------------------------
     2                                  ; MODELO EXAMEN SEGUNDO PARCIAL NÂ° 1
     3                                  ;--------------------------------------------------------------------------
     4                                  
     5                                  segment .data
     6                                  
     7 00000000 01000000                	a 	dd	1
     8 00000004 02000000                	b 	dd	2
     9 00000008 03000000                	c 	dd	3
    10                                  
    11                                  segment .bss
    12                                  
    13 00000000 ????????                	x	resd  1
    14                                  
    15                                  segment .text
    16                                  global main
    17                                  main:
    18                                  
    19 00000000 8B0C25[00000000]        	mov ecx, [a]
    20 00000007 8B1425[04000000]        	mov edx, [b]
    21 0000000E 448B0425[08000000]      	mov r8d, [c]
    22 00000016 E808000000              	call calcular
    23 0000001B 890425[00000000]        	mov [x], eax
    24                                  
    25 00000022 C3                      ret
    26                                  
    27                                  ;---------------------------------------------------------------------------
    28                                  ;............Subrutinas............
    29                                  ;---------------------------------------------------------------------------
    30                                  
    31                                  ; x = ((-30)*(-a)-(b>>3))^(~c|(a&b)/((-b)%c));
    32                                  
    33                                  calcular:
    34                                  
    35 00000023 4831C0                  	xor rax, rax
    36 00000026 4831DB                  	xor rbx, rbx
    37 00000029 4D31D2                  	xor r10, r10
    38                                  	
    39 0000002C 89C8                    	mov eax, ecx
    40 0000002E 89D3                    	mov ebx, edx
    41 00000030 4589C2                  	mov r10d, r8d
    42                                  	
    43 00000033 F7D8                    	neg eax			; (-a)
    44 00000035 41BBE2FFFFFF            	mov r11d, -30
    45 0000003B 410FAFC3                	imul eax, r11d	; (-30)*(-a)
    46                                  	
    47 0000003F C1FB03                  	sar ebx, 3		; (b>>3)
    48 00000042 29D8                    	sub eax, ebx	; ((-30)*(-a)-(b>>3))
    49 00000044 4189C7                  	mov r15d, eax
    50                                  	
    51 00000047 41F7D2                  	not r10d		; ~c
    52 0000004A 21D1                    	and ecx, edx	; (a&b)
    53 0000004C F7DA                    	neg edx			; (-b)
    54 0000004E 89D0                    	mov eax, edx
    55 00000050 99                      	cdq
    56 00000051 41F7F8                  	idiv r8d		; edx = (-b)%c)
    57                                  	
    58 00000054 89C8                    	mov eax, ecx
    59 00000056 4189D3                  	mov r11d, edx
    60 00000059 99                      	cdq
    61 0000005A 41F7FB                  	idiv r11d
    62 0000005D 4409D0                  	or eax, r10d	; (~c|(a&b)/((-b)%c))
    63 00000060 4431F8                  	xor eax, r15d	; ((-30)*(-a)-(b>>3))^(~c|(a&b)/((-b)%c))
    64                                  
    65 00000063 C3                      ret
    66                                  
    67                                  
    68                                  ; x = ((-30)*(-a)-(b>>3))^(~c|(a&b)/((-b)%c));
    69                                  
    70                                  
    71                                  
    72                                  
    73                                  
    74                                  
